(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/tabbar-1/selectAndpush/selectCoupons/select/scanCustomer/startSelect/scanCoupons/scanCoupons"],{"0d4d":function(t,e,o){"use strict";o("901f");var a=c(o("b0ce")),n=c(o("b653"));function c(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(n.default))},"27fe":function(t,e,o){},6224:function(t,e,o){"use strict";var a=o("27fe"),n=o.n(a);n.a},7433:function(t,e,o){"use strict";o.r(e);var a=o("7ab9"),n=o.n(a);for(var c in a)"default"!==c&&function(t){o.d(e,t,function(){return a[t]})}(c);e["default"]=n.a},"7ab9":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=c(o("eb14")),n=c(o("9403"));function c(t){return t&&t.__esModule?t:{default:t}}var i={data:function(){return{companyName:n.default.getcompany().company_name,actName:"",activity:[],coupon_type:[],customers:[],showed:!1}},methods:{checkboxChange:function(t){for(var e in this.coupon_type=t.detail.value.sort(),this.coupon_type)this.coupon_type[e]=parseInt(this.coupon_type[e]);console.log(this.coupon_type)},jump:function(){var e=this;for(var o in e.customers)t.request({url:a.default.postCoupons(),method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",token:n.default.getToken()},data:{userId:e.customers[o].author_id,companyId:n.default.getcompany().company_id,typeId:e.coupon_type},success:function(t){console.log(t),200==t.data.code&&(e.showed=!0)}}),console.log(e.customers[o].author_id),console.log(e.coupon_type)},recall:function(){t.reLaunch({url:"../../../../../../selectAndpush/selectAndpush"}),this.showed=!1},scan:function(e){t.navigateTo({url:"./couponsDetails/couponsDetails?coupon_type_id="+this.activity[e].coupon_type_id}),console.log(this.activity[e].coupon_type_id)}},created:function(){var e=this;t.request({url:a.default.getactivityCoupons(n.default.getactivityId()),header:{token:n.default.getToken()},data:{companyId:n.default.getcompany().company_id,activity:n.default.getactivityId()},success:function(t){200==t.data.code&&(console.log(t),e.activity=t.data.value.coupons,e.actName=t.data.value.actName,console.log(e.activity),console.log(typeof e.activity[0].isSend))}}),console.log(this.customers),console.log(n.default.getcompany().company_id)},onLoad:function(t){console.log(t),this.customers=JSON.parse(t.avatars)}};e.default=i}).call(this,o("543d")["default"])},b653:function(t,e,o){"use strict";o.r(e);var a=o("c258"),n=o("7433");for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);o("6224");var i=o("2877"),s=Object(i["a"])(n["default"],a["a"],a["b"],!1,null,"832d5d32",null);e["default"]=s.exports},c258:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view",{staticClass:"body"},[o("scroll-view",{staticClass:"content",attrs:{"scroll-y":!0}},[o("view",{staticStyle:{"font-size":"30rpx",color:"#000",margin:"20rpx 30rpx","font-weight":"bold"}},[t._v("当前所在活动："+t._s(t.actName))]),o("checkbox-group",{attrs:{eventid:"6a46f2f0-1",mpcomid:"6a46f2f0-0"},on:{change:t.checkboxChange}},t._l(t.activity,function(e,a){return o("view",{key:e.coupon_type_id,staticClass:"content-main"},[o("view",{staticStyle:{"font-size":"25rpx",color:"#808080","margin-bottom":"30rpx","margin-left":"20rpx"}},[o("text",{staticStyle:{"margin-right":"20rpx"}},[t._v(t._s(a+1)+"等奖")]),o("text",[t._v("数量：")]),o("text",[t._v("0 张")]),0==e.isSend?o("checkbox",{staticStyle:{display:"inline",position:"absolute",right:"30rpx"},attrs:{value:e.coupon_type_id,checked:e.checked}},[t._v("未派发")]):t._e(),1==e.isSend?o("text",{staticStyle:{display:"inline",position:"absolute",right:"30rpx"}},[t._v("已派发")]):t._e()],1),o("view",{staticClass:"picture"},[o("view",{staticClass:"picture-left"},[o("view",{staticStyle:{"font-size":"30rpx","margin-left":"30rpx","margin-top":"10rpx"}},[t._v(t._s(t.companyName))]),o("view",{staticStyle:{"font-size":"45rpx","margin-left":"30rpx"}},[t._v(t._s(e.couponName))])]),o("view",{staticClass:"picture-right"},[o("button",{staticClass:"btn-1",attrs:{eventid:"6a46f2f0-0-"+a},on:{click:function(e){t.scan(a)}}},[t._v("查看详情")])],1)])])})),o("button",{staticStyle:{display:"block","font-size":"35rpx",width:"500rpx",height:"75rpx",color:"#FFFFFF",background:"#FF6E6E","line-height":"75rpx","border-radius":"25rpx","margin-top":"60rpx","margin-bottom":"30rpx"},attrs:{eventid:"6a46f2f0-2"},on:{click:function(e){t.jump()}}},[t._v("勾选完毕，向以下名单派发")]),o("view",{staticClass:"content-center"},[o("view",{staticStyle:{"font-size":"25rpx",color:"#808080",margin:"20rpx 30rpx"}},[t._v("将向下列用户依次派发所勾卡券:")]),o("scroll-view",{staticClass:"picture-1",attrs:{"scroll-y":"true","scroll-top":0}},[o("view",{staticClass:"picture-avtatar"},t._l(t.customers,function(t,e){return o("image",{staticClass:"avatar",attrs:{src:t.author_image}})}))])],1)],1),t.showed?o("view",{staticClass:"dialog-cover"},[o("view",{staticClass:"sure"},[o("view",{staticStyle:{display:"flex",flex:"1","align-items":"center","justify-content":"center"}},[t._v("发布成功")]),o("view",{staticStyle:{display:"flex",flex:"1"}},[o("button",{staticClass:"btn",attrs:{eventid:"6a46f2f0-3"},on:{click:t.recall}},[t._v("回到主页")])],1)])]):t._e()],1)},n=[];o.d(e,"a",function(){return a}),o.d(e,"b",function(){return n})}},[["0d4d","common/runtime","common/vendor"]]]);