(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/tabbar-1/my/my"],{2250:function(t,e,a){"use strict";a.r(e);var n=a("a2fb"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},3718:function(t,e,a){},"4b2b":function(t,e,a){"use strict";a("901f");var n=s(a("b0ce")),i=s(a("c224"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(i.default))},"6de4":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"body"},[a("view",{staticClass:"content-top"},[a("view",{staticStyle:{display:"flex",height:"100rpx"}},[a("view",{staticClass:"content-1"},[a("image",{staticClass:"box-image",attrs:{src:t.avatarUrl,onerror:t.errorImage()}})]),a("view",{staticClass:"content-2"},[a("view",{staticClass:"content-2-top"},[t.logined?a("text",{staticClass:"text-content",staticStyle:{color:"#000000","font-weight":"bold"}},[t._v(t._s(t.name))]):t._e(),t.nologined?a("text",{staticClass:"text-content",staticStyle:{color:"#000000","font-weight":"bold"},attrs:{eventid:"658ceb70-0"},on:{click:t.login}},[t._v(t._s(t.name))]):t._e()]),a("view",{staticClass:"content-2-bottom"},[t.showed1?a("view",[a("text",{staticClass:"text-content",staticStyle:{"margin-right":"20rpx"}},[t._v("游客")])]):t._e(),t.showed2?a("picker",{attrs:{mode:"selector",range:t.shops,id:"0","range-key":"company_name",eventid:"658ceb70-1"},on:{change:t.bindPickerChange}},[a("text",{staticClass:"text-content"},[t._v("机构："+t._s(t.shopName))])]):t._e()],1)]),a("view",{staticStyle:{display:"flex",height:"30rpx",width:"150rpx",position:"absolute",right:"30rpx","align-items":"center","text-align":"center","margin-top":"40rpx"},attrs:{eventid:"658ceb70-2"},on:{click:function(t){}}},[a("text",{staticStyle:{"line-height":"30rpx","font-size":"25rpx",color:"#595757","margin-right":"10rpx"}},[t._v("编辑资料")]),a("image",{staticStyle:{height:"30rpx",width:"35rpx"},attrs:{src:"../../../../static/image/1-01.png"}})])])]),a("view",{staticClass:"content"},[t._m(0),a("view",{staticClass:"content-right"},[a("image",{staticStyle:{display:"block",height:"30rpx",width:"35rpx","margin-right":"30rpx"},attrs:{src:"../../../../static/image/2-01.png",eventid:"658ceb70-3"},on:{click:t.show}})])]),t.showed?a("view",{staticClass:"content-first"},t._l(t.commodity,function(e,n){return a("view",{staticClass:"content-first1"},[a("view",{staticStyle:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","font-size":"25rpx",color:"#595757"}},[a("image",{staticClass:"commodity-image",attrs:{src:e.src,eventid:"658ceb70-4-"+n},on:{click:function(e){t.scan(n)}}}),a("text",[t._v(t._s(e.type))])])])})):t._e(),t._m(1),a("view",{staticClass:"content",attrs:{eventid:"658ceb70-5"},on:{click:function(e){t.jump("./wallet/wallet")}}},[t._m(2),t._m(3)]),a("view",{staticClass:"content",attrs:{eventid:"658ceb70-6"},on:{click:function(e){t.jump("/pages/tabbar/tabbar-1/authorityManagemengt/editShop/editShop")}}},[t._m(4),t._m(5)]),a("view",{staticClass:"content",attrs:{eventid:"658ceb70-7"},on:{click:function(e){t.toQRCode()}}},[t._v("二维码名片")])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content-left"},[a("image",{staticClass:"image",attrs:{src:"../../../../static/image/mall-01.png"}}),a("text",[t._v("商城")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content"},[a("view",{staticClass:"content-left"},[a("image",{staticClass:"image",attrs:{src:"../../../../static/image/ordering-01.png"}}),a("text",[t._v("我的订单")])]),a("view",{staticClass:"content-right"},[a("image",{staticStyle:{display:"block",height:"30rpx",width:"35rpx","margin-right":"30rpx"},attrs:{src:"../../../../static/image/1-01.png"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content-left"},[a("image",{staticClass:"image",attrs:{src:"../../../../static/image/wallet-01.png"}}),a("text",[t._v("我的钱包")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content-right"},[a("image",{staticStyle:{display:"block",height:"30rpx",width:"35rpx","margin-right":"30rpx"},attrs:{src:"../../../../static/image/1-01.png"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content-left"},[a("image",{staticClass:"image",attrs:{src:"../../../../static/image/management-01.png"}}),a("text",[t._v("门店管理")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content-right"},[a("image",{staticStyle:{display:"block",height:"30rpx",width:"35rpx","margin-right":"30rpx"},attrs:{src:"../../../../static/image/1-01.png"}})])}];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},a2fb:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(a("9403")),i=s(a("eb14"));function s(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{logined:!0,nologined:!1,showed:!1,url:"",showed1:!1,showed2:!1,avatarUrl:"",name:"",shopName:"",shops:[],commodity:[{type:"单月套餐",src:"../../../../static/image/month-01.png"},{type:"季度套餐",src:"../../../../static/image/quarter-01.png"},{type:"半年套餐",src:"../../../../static/image/halfyear-01.png"},{type:"年度套餐",src:"../../../../static/image/year-01.png"}]}},methods:{login:function(){t.navigateTo({url:"../login"})},show:function(){this.showed=!this.showed},errorImage:function(){this.avatarUrl=this.url},bindPickerChange:function(t){var e=this;console.log(t),console.log("picker发送选择改变，携带值为",t.target.value);t.target.value;e.shopName=e.shops[t.target.value].company_name,n.default.savecompany(e.shops[t.target.value])},jump:function(e){e&&t.navigateTo({url:e})},scan:function(e){t.navigateTo({url:"./commodity-detail/commodity-detail?index="+e})},toQRCode:function(){n.default.getToken()?t.navigateTo({url:"QRCodeCard/QRCodeCard"}):t.showToast({title:"未登录",icon:"none"})}},onShow:function(){var e=this;n.default.getToken()?(console.log(n.default.getcompany()),n.default.getcompany()?(e.showed1=!1,e.showed2=!0,this.shopName=n.default.getcompany().company_name,t.request({url:i.default.shop(),header:{token:n.default.getToken()},success:function(a){200==a.data.code?e.shops=a.data.value:t.showToast({title:"获取门店失败",duration:2e3,icon:"none"})}})):t.request({url:i.default.shop(),header:{token:n.default.getToken()},success:function(t){200==t.data.code?(e.showed1=!1,e.showed2=!0,e.shopName="请选择门店",console.log(t),e.shops=t.data.value,console.log(e.shops)):1005==t.data.code&&(e.showed1=!0,e.showed2=!1)}}),console.log(n.default.getcompany().company_name),t.request({url:i.default.seeUser(),header:{token:n.default.getToken()},data:{otherId:n.default.getUserId()},success:function(a){console.log(a),a.data.code?(t.showToast({title:"token失效！",icon:"none"}),t.clearStorage()):(e.url=n.default.geturlerror(a.data.user.author_image),console.log(e.url),e.avatarUrl=a.data.user.author_image,e.name=a.data.user.author_name)}})):(this.name="点击授权登录",this.logined=!1,this.nologined=!0,this.url="../../../../static/img/tabbar/me.png")}};e.default=o}).call(this,a("543d")["default"])},c224:function(t,e,a){"use strict";a.r(e);var n=a("6de4"),i=a("2250");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("c5b5");var o=a("2877"),c=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);e["default"]=c.exports},c5b5:function(t,e,a){"use strict";var n=a("3718"),i=a.n(n);i.a}},[["4b2b","common/runtime","common/vendor"]]]);